<br/>

<div class="card no-border">
  <div class="widget mt-4">
    <div class="row-wrapper">
      <% first_category = Document.category.values.first %>
      <ul class="nav nav-tabs justify-content-center mb-5" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" data-toggle="tab" href="#<%= first_category %>">
            <%= t "enumerize.document.category.#{first_category}" %>
          </a>
        </li>

        <% Document.category.values.each do |category| %>
          <% if category != first_category %>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#<%= category %>">
                <%= t "enumerize.document.category.#{category}" %>
              </a>
            </li>
          <% end %>
        <% end %>
      </ul>
    </div>
    <div class="row-wrapper">
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id=<%= first_category %> role="tabpanel" aria-labelledby="<%= first_category %>-tab">
          <div class="row cols-md-space cols-sm-space cols-xs-space">
            <table id="documents" class="table table-sm table-hover">
              <thead>
                <tr>
                  <th scope="col">Nom du document</th>
                  <th scope="col">Télécharger</th>
                </tr>
              </thead>

              <tbody>
                <%= render partial: "documents/document", collection: @documents.select {|document|
                  document.category == first_category 
                } %>
              </tbody>
            </table>
          </div>
        </div>

        <% Document.category.values.each_with_index do |category, index| %>
          <% if category != first_category %>
            <div class="tab-pane fade show" id=<%= category %> role="tabpanel" aria-labelledby="<%= category %>-tab">
              <div class="row cols-md-space cols-sm-space cols-xs-space">
                <table id="documents" class="table table-sm table-hover">
                  <thead>
                    <tr>
                      <th scope="col">Nom du document</th>
                      <th scope="col">Télécharger</th>
                    </tr>
                  </thead>

                  <tbody>
                    <%= render partial: "documents/document", collection: @documents.select {|document|
                      document.category == category 
                    } %>
                  </tbody>
                </table>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
